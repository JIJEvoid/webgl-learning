<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>sea</title>
  <link rel="stylesheet" href="css/main.css">
  <script type="text/javascript" src="js/glslcanvas.js"></script>
</head>
<body>
<script id="fragmentShader" type="x-shader/x-fragment">
#ifdef GL_ES
precision mediump float;
#endif
uniform float u_time;
uniform vec2 u_resolution;

void main(){
	vec3 c;
	float t = u_time;
	vec2 r = u_resolution.xy;
	float l,z=t;
	for(int i=0;i<3;i++) {
		vec2 uv,p=gl_FragCoord.xy/r;
		uv=p;
		p-=.5;
		p.x*=r.x/r.y;
		z+=.07;
		l=length(p);
		uv+=p/l*(sin(z)+1.)*abs(sin(l*9.-z*2.));
		c[i]=.01/length(abs(mod(uv,1.)-.5));
	}
	gl_FragColor=vec4(c/l,t);
}
</script>
<canvas id="glslCanvas" width="800" height="600" data-textures="data/moon.jpg"></canvas>

<script>
  var canvas = document.getElementById("glslCanvas");
  var sandbox = new GlslCanvas(canvas);
  var fs =document.getElementById('fragmentShader').textContent;
  console.log(fs);
  sandbox.load(fs);
  canvas.style.width = '100%';
  canvas.style.height = '100%';
</script>
</body>
</html>